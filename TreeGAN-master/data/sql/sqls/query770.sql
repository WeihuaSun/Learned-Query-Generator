SELECT COUNT(*) FROM census WHERE education = '12th' AND marital_status = 'Widowed' AND occupation = 'Tech-support' AND capital_gain <= 7978 AND native_country = 'Japan';
